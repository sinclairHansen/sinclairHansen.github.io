<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sinclair Hansen </title>
  <link rel="icon" type="image/x-icon" href="../Images/Favicon.png">

  <meta name="description" content="Sinclair Hansen's Epic Portfolio">
  <script src="https://cdn.jsdelivr.net/npm/p5@1.11.5/lib/p5.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.3/addons/p5.sound.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="chaosTheory.css">
</head>


<header2 class = "header2">

  <ul>
    <li><a class="active" href="../index.html">Home</a></li>
    <li><a href="../experience.html">Experience</a></li>
    <li><a href="../projects.html">Projects</a></li>
    <li><a href="boredomBlog.html">Boredom Blog</a></li>
    <li></a></li>
  </ul>

</header2>



<header>
  <!-- Top Navigation Menu -->
  <div class="topnav">
    <a href="../index.html" class="active">Sinclair's Portfolio</a>
    <!-- Navigation links (hidden by default) -->
    <div id="myLinks">
      <a href="../experience.html">Experience</a>
      <a href="../projects.html">Projects</a>
      <a href="boredomBlog.html">Boredom Blog</a>
    </div>
    <!-- "Hamburger menu" / "Bar icon" to toggle the navigation links -->
    <a href="javascript:void(0);" class="icon" onclick="myFunction()">
      <i class="fa fa-bars"></i>
   </a>
  </div>
  <script>
    function myFunction() {
      var x = document.getElementById("myLinks");
      if (x.style.display === "block") {
        x.style.display = "none";
      } else {
       x.style.display = "block";
      }
    }
    </script>
</header>

<body>

    <h1>Embrace the Chaos</h1>
    <h3 class="center">How a 0.001° Shift Changes Everything</h3>

<main>
  <script src="Pendulum/pendulum.js"></script>
  <script>setup()</script>
</main>

<body class="center">
  <h2><a class = "button" href = "Pendulum/pendulum.html" target="_blank" rel="noopener noreferrer">Pendulum Simulator</a></h2>
  <h2><a class = "button" href = "https://github.com/sinclairHansen/doublePendulum" target="_blank" rel="noopener noreferrer">Pendulum Repository</a></h2>
  <h2>Introduction to Chaos Theory</h2>
  <h3>“The flap of a butterfly’s wings in Brazil can lead to a hurricane in Texas.”</h3>
  <p>While not meant to be taken literally, 
    this metaphor captures the essence of <b>chaos theory</b>: small 
    changes in the initial conditions of a system can lead to large and 
    unpredictable outcomes. This idea, often referred to as the butterfly effect, 
    lies at the heart of chaos theory and highlights the sensitive dependence on initial 
    conditions seen in many natural and mathematical systems.</p>
  <p class="space">Chaos Theory states that "within the apparent 
    randomness of chaotic, complex systems, there are 
    underlying patterns, interconnectedness, constant feedback loops,
     repetition, self-similarity, fractals, and self-organization" (Fractal Foundation). In simple
      terms, even though these systems may appear unpredictable, they follow
       deeper rules. Small changes in initial conditions can lead to drastically
        different outcomes as time progresses, making long-term prediction 
        extremely difficult.</p>
  <p>One common example of a chaotic system is a 
    double pendulum. A double pendulum’s position can be found 
    using deterministic equations. When given a set of initial
     values, we can predict where it will be at any given time. 
     So why is it an example of a chaotic system? A double pendulum
      is an example of <b>deterministic chaos</b>. We would be able to calculate 
      its position if we had precise data, but that can be hard to come by. 
      The position of the double pendulum is extremely sensitive, and a change
       in significant figures can completely change its trajectory. This can be
        shown in the double pendulum at the top of the article (you can refresh the 
        page to reset the simulation). Ten pendulums 
        are displayed, with the only difference is each theta value increases 
        by 0.001º. Within a few seconds we see that all the pendulums break off 
        into completely different pathways. A quote that describes this well
         comes from Edward Lorenz, a mathematician that laid the foundations of
          chaos theory:</p>


<h3>Chaos: When the present determines the future but the approximate present does not approximately determine the future.</h3>
<h2>The History of Chaos Theory</h2>
<p>The idea of Chaos Theory stems from the previously mentioned mathematician 
  and meteorologist Edward Lorenz in the 1960s. Throughout his work 
  as a meteorologist, he came to the conclusion that weather patterns are nonlinear 
  and can be volatile. This was enforced when one day he decided to go back and recreate a 
  past weather sequence. When he initially made the calculations a year prior, he used six significant 
  figures, but when running through them again he used three. One would expect this decimal change to be
   insignificant, but that was far from the truth. The two weather sequences were vastly different, 
   showing that seemingly negligible factors can completely change outcomes (Halton). </p>

 <h2>The Lorenz Attractor</h2>
 <h4><a class = "button" href = "LorenzAttractor/lorenz.html" target="_blank" rel="noopener noreferrer">3D Lorenz Attractor</a></h4>

<p>Lorenz is well known for the 
  famous Lorenz Attractor, a model often associated 
  with the Butterfly Effect, appropriately named because its
   shape resembles a butterfly. What makes this set of equations
    notable is its extreme sensitivity to initial conditions. </p>
    <p>The three differential equations are:</p>
   <img class ="floatImage" src="../Images/lorenzAttractor.gif"   alt="Lorenz Attractor">
  <div class="space">
    <p class="center"><b>x' = σ(y - x)</b></p>
    <p class="center"><b>y' = x(ρ - z) - y</b></p>
    <p class="center"><b>z' = xy - ßz</b> </p>
  </div>


  <p>The values <b>σ </b>(sigma),  <b>ρ </b>(rho), and <b>ß</b> (beta), 
    are constants that can be changed, but picking random numbers
     will likely result in the particles flying towards infinity. 
     The most common constants, picked by Lorenz himself are:</p>

  <div class="space">
    <p class="center"><b>σ = 10</b></p>
    <p class="center"><b>ρ = 28</b></p>
    <p class="center"><b>ß = ⁠8/3</b></p>
  </div>

  <p>Starting from an arbitrary point, 
    future points are calculated based on the previous. 
    It is important to note that not all inputs in this equation 
    result in a chaotic output. For example, having initial values 
    (0,0,0) will result in all derivatives equaling 0. The point will
     forever stay at the origin. On the flip side, inputting large values
      will result in the particle shooting towards infinity. The most
       interesting behavior happens when we pick starting points in a certain 
       "sweet spot."</p>
  <p>As part of my research, I programmed a 3D 
    model of the Lorenz Attractor, viewable through 
    the button above. I initialized the point at (0.01, 0, 0)
     to ensure non zero derivatives and a true chaotic attractor.</p>
    <p class="space">What’s fascinating about this model is that 
      the trajectory never exactly retraces its steps. If it 
      did, the motion would no longer be chaotic; it would become 
      periodic or predictable. Even more interestingly, if we start 100
       points close together, some will diverge to infinity, and some
        will stay trapped in the attractor’s general shape. Even though they 
        follow similar patterns, no two paths are identical. A tiny difference
         in starting points leads to drastically different futures (Kastorf).</p>



    <h2>Math Behind the Double Pendulum</h2>
    <img class ="floatImage" src="../Images/dbl_pendulum_Image.gif"   alt="Dbl Pendulum diagram">

    <p>The orientation of a double pendulum can be shown on the right. When doing calculations, we have several variables we will be working with:</p>
      <p class="equation">L<sub>1</sub>: Length of the first string</p>
      <p class="equation">L<sub>2</sub>: Length of the second string</p>
      <p class="equation">Θ<sub>1</sub>: The angle between L<sub>1</sub> and a line perpendicular to the ground</p>
      <p class="equation">Θ<sub>2</sub>: The angle between L<sub>2</sub> and a line perpendicular to the ground</p>
      <p class="equation">m<sub>1</sub>: mass of the first ball</p>
      <p class="equation">m<sub>2</sub>: mass of the second ball</p>

      <p>We can also state that the location of the first ball is (x<sub>1</sub>,y<sub>1</sub>) and the location of the second ball is (x<sub>2</sub>, y<sub>2</sub>). The point the pendulum is hanging from is (x<sub>0</sub>,y<sub>0</sub>). We are also going to assume that x<sub>0</sub>, y<sub>0</sub> = 0 (this part is more important when programming it). Using basic trigonometry, we are able to write these points as the following:</p>
      <p class="equation"> x<sub>1</sub> = L<sub>1</sub>sinΘ<sub>1</sub></p>
      <p class="equation">y<sub>1</sub> = -L<sub>1</sub>cosΘ<sub>1</sub></p>
      <p class="equation">x<sub>2</sub> = x<sub>1</sub> + L<sub>2</sub>sinΘ<sub>2</sub></p>
      <p class = "equation">y<sub>2</sub> = y<sub>1</sub> - L<sub>2</sub>cosΘ<sub>2</sub></p>
      <p>Now we will need the derivatives of each coordinate. Derivative is denoted with an apostrophe:
      </p>
      <p class="equation">x<sub>1</sub>’ = L<sub>1</sub>cosΘ<sub>1</sub></p>
      <p class="equation">y<sub>1</sub>’ = L<sub>1</sub>sinΘ<sub>1</sub></p>
      <p class="equation">x<sub>2</sub>’ = x<sub>1</sub>’ + L<sub>2</sub>cosΘ<sub>2</sub></p>
      <p class="equation">y<sub>2</sub>’ = y<sub>1</sub>’ +  L<sub>2</sub>sinΘ<sub>2</sub></p>
      <p>In order to calculate the change in the Θ values, we are going to be using a <b>Lagrangian</b>. The Lagrangian describes a system in terms of its kinetic and potential energy, and is founded on the principle of least action. The formula for the Lagrangian is written as:</p>
      <p class="equation"><b>L = T - V</b></p>
      <p>In words, the Lagrangian equals the kinetic energy (T) minus the potential energy (V) within the system. This means the next step is to solve for T and V:</p>
      <p class="equation space">T = 1/2m<sub>1</sub>(x<sub>1</sub>'<sup>2</sup>+y<sub>1</sub>'<sup>2</sup>) + 1/2m<sub>2</sub>(x<sub>2</sub>'<sup>2</sup>+y<sub>2</sub>'<sup>2</sup>)</p>
      <p class="space">Simplify.</p>
      <p class="equation">T = 1/2ML<sub>1</sub><sup>2</sup>Θ<sub>1</sub><sup>2</sup> + 1/2m<sub>2</sub> L<sub>2</sub><sup>2</sup>Θ<sub>2</sub><sup>2</sup>∆Θ</p>
      <p class="equation space">where M = m<sub>1</sub> + m<sub>2</sub> and ∆Θ = Θ<sub>1</sub> - Θ<sub>2</sub></p>
      <p class="equation">V = m<sub>1</sub>gy<sub>1</sub> + m<sub>2</sub>gy<sub>2</sub></p>
      <p>This reduces to:</p>
      <p class="equation">V = -MgL<sub>1</sub>cosΘ<sub>1</sub> - m<sub>2</sub>gL<sub>2</sub>cosΘ<sub>2</sub></p>
      <p>Now lets sub this information into the Lagrangian (L = T - V):</p>
      <p class="equation space">L =  1/2ML<sub>1</sub><sup>2</sup>Θ<sub>1</sub>'<sup>2</sup>+ 1/2m<sub>2</sub>L<sub>2</sub><sup>2</sup>Θ<sub>2</sub>'<sup>2</sup>+ m<sub>2</sub>L<sub>2</sub>L<sub>2</sub>Θ<sub>1</sub>'Θ<sub>2</sub>'cos∆Θ+MgL<sub>1</sub>cosΘ<sub>1</sub>  + m<sub>2</sub>gL<sub>2</sub>cosΘ<sub>2</sub> </p>
      <p>We will now apply the Euler-Lagrange equations with respect to  Θ1 and Θ2. This will allow us to get the angular acceleration. This equation will be one of the most important components of the program. </p>
      <p class="equation space">ML<sub>1</sub>Θ<sub>1</sub>'' + m<sub>2</sub>L<sub>2</sub>Θ<sub>2</sub>''cos∆Θ+m<sub>2</sub>L<sub>2</sub>Θ'<sup>2</sup>sin∆Θ+MgsinΘ<sub>1</sub> = 0</p>
      <p class="equation space">L<sub>1</sub>Θ<sub>1</sub>''cos∆Θ+L<sub>2</sub>Θ<sub>2</sub>''-L<sub>1</sub>Θ<sub>1</sub><sup>2</sup>sin∆Θ+gsinΘ<sub>2</sub>=0</p>
      <p>These equations cannot be solved like a linear equation. We can break it down by setting m2=0, L2=0 and Θ1 = Θ2. After rearranging, we can get the angular acceleration for both theta values. </p>
      <p class="equation space">Θ<sub>1</sub>''=[-sin∆Θ(m<sub>2</sub>L<sub>2</sub>Θ<sub>1</sub>'<sup>2</sup>cos∆Θ+m<sub>2</sub>L<sub>2</sub>Θ<sub>2</sub><sup>2</sup>)-g(MsinΘ<sub>1</sub>-m<sub>2</sub>sinΘ<sub>2</sub>cos∆Θ)]/L<sub>1</sub>ɑ</p>
      <p class="equation space">Θ<sub>2</sub>'' = [+sin∆Θ(ML<sub>1</sub>Θ<sub>1</sub>’<sup>2</sup>+m<sub>2</sub>L<sub>2</sub>Θ<sub>2</sub>'<sup>2</sup>cos∆Θ)+g(MsinΘ<sub>1</sub>cos∆Θ-MsinΘ<sub>2</sub>)]/L<sub>2</sub>ɑ</p>
      <p>where ɑ = m<sub>1</sub> + m<sub>2</sub>sin<sup>2</sup>∆Θ</p>
      <p>These are now all the equations that were used for the program, with the primary being the Euler-Lagrange equations for the angular acceleration.</p>
      <h2>My Program</h2>
      <p>This project simulates the motion of a double pendulum using JavaScript and the p5.js library.
        The program is built around the physical model of a double pendulum: two rods connected end-to-end, swinging under the influence of gravity. To calculate the motion, I used the standard equations for a double pendulum's angular accelerations.
        </p>
        
      <h3>Input Handling:</h3>
      <p> The program uses sliders to collect user input for:</p>
      <p class="center space">Lengths of the rods (L<sub>1</sub>, L<sub>2</sub>)</p>
      <p class="center">Masses of the pendulums (m<sub>1</sub>, m<sub>2</sub>)</p>
      <h3>Pendulum Class:</h3>
      <p> These values are passed into a <b>Pendulum class</b>, which initializes the angular positions:</p>
      <p class="center padding-top">Θ₁ is set to π/2 radians (90°)</p>
      <p class="center space">Θ₂ is set to π/4 radians (45°)</p>
      <p>For each new Pendulum object created, Θ₁ is slightly offset by <b>0.001 degrees</b> to visualize how small differences in starting conditions can lead to dramatically different motion — a feature of chaotic systems.</p>
      <h3>Calculating Motion:</h3>
      <p> Inside the class, I calculate the angular acceleration (Θ″) based on the current positions and velocities. Then, at every frame:</p>
        <p class="center">Update angular velocity (Θ′) by adding the angular acceleration</p>
        <p class="center space">Update angular position (Θ) by adding the angular velocity</p>
        <p class="center">Use the updated Θ₁ and Θ₂ to compute the (x, y) positions:</p>
        <p class="center space">(x₁, y₁) for the first mass</p>
        <p class="center">(x₂, y₂) for the second mass</p>
      <h3>Visualization: </h3>
      <p> Using <b>p5.js</b>, I draw lines connecting:</p>
      <p class="center space">The fixed point (x₀, y₀) to the first mass (x₁, y₁)</p>
      <p class = "center">The first mass (x₁, y₁) to the second mass (x₂, y₂)</p>
      <p class="padding-top">This real-time drawing creates a smooth animation of the double pendulum swinging chaotically over time.
        We are able to see the trail of the pendulum by changing the opacity of the background, which results in more frames being needed to cover up previous drawings. 
        </p>
        <p class="padding-top">Note: A double pendulum experiences air resistance and friction at the pivots, resulting in imperfect energy transfer and gradual energy loss over time.
          This program models the idealized case, focusing solely on the pendulum’s motion without accounting for these dissipative effects.
        </p>





  <h2 class="center">Applications of Chaos Theory</h2>
  <p>The findings in Chaos Theory have many real world applications. 
    Many of the systems we use in our day-to-day lives are chaotic, unpredictable, and 
    reliant on initial conditions. Examples include weather patterns, economics, and artificial 
    intelligence. The goal of using Chaos Theory in these fields is to find order in messy systems.</p>
    <h3>Weather and Climate Predictions</h3>
    <img class ="floatImage" src="../Images/forecastModel.gif"   alt="Weather Forecast">

    <p>As the Lorenz Attractor demonstrates, weather patterns are extremely sensitive to changes in initial conditions, and small errors can snowball into vastly different weather outcomes. This sensitivity has shaped how meteorologists predict weather today. Forecasts have a limited window of accuracy, typically about 10 days, because small measurement errors compound over time. Beyond that window, predictions become increasingly unreliable, and new calculations based on updated measurements must be made. For long-term weather forecasting, meteorologists rely more on statistical models based on historical data. For example, by analyzing temperature averages from the past 10 years, we can estimate what conditions might be like six months from now. However, such predictions are broad trends rather than precise forecasts, and they are refined as the specific date approaches and more current data becomes available (Buizza).</p>
    <h3>Machine Learning Models</h3>
    <p>Although Chaos Theory can connect to a vast number of fields, the last one I want to dive into is Machine Learning (I have a bias toward this topic). When reading about Chaos Theory, I was surprised that a machine learning model could even fall into the realm of deterministic chaos. After all, is it really deterministic? How can we consistently determine an output if we do not fully understand how a neural network reacts to an input, even when we have an expected output?
    </p>
    <img class ="floatImage" src="../Images/lossLandscape.png"   alt="Loss Landscape">

    <p class="padding-top">This brings me back to Lorenz’s famous quote: “When the present determines the future, but the approximate present does not approximately determine the future.” Even if we know the present (the input), can we definitively understand what happens inside the complex inner workings of a large-scale machine learning model? This uncertainty is especially true during the training process.
    </p>
    <p class="padding-top">While exploring this idea, I found a visual representation of a <b>loss landscape</b>. The loss landscape maps the model’s error during training: peaks represent high levels of error, and valleys represent low levels of error. (It looks like it could appear in a National Geographic magazine!) During training, the goal is to navigate this landscape and reach the valleys of low error, often by following <b>gradient vectors</b>, which point toward the steepest descent. However, even slight changes or errors in the data can steer the model along a different path, potentially trapping it in a suboptimal valley. This process can be considered chaotic, as small changes early on can dramatically alter the model’s eventual performance (Salinas).
    </p>
    <p class="padding-top">Extending beyond training, once a machine learning model is fully trained and consistently accurate, it tends to behave more deterministically (this is ignoring models that intentionally produce some randomness). In this case, inputs produce consistent outputs with little variance, and the model’s behavior no longer appears chaotic. However, Chaos Theory remains important in this field because it highlights the consequences of improper training; it reinforces the idea that we want to avoid models that are overly sensitive to their inputs. </p>

    <h2>Conclusion/Reflection</h2>
    <p class="padding-bottom">Chaos Theory is deeply tied with many complex systems we rely on daily. It not only helps us predict and understand chaotic behavior, but also plays a crucial role in preventing the development of unstable models, such as certain machine learning systems. Through the two projects I completed, I gained valuable insight into the fascinating mathematics underlying these models. I especially enjoyed observing how a tiny change, just 0.001, in the input could lead to a drastically different output. This project has significant potential for further exploration; I’m particularly interested in diving into topics like the Arnold Cat Map next.</p>




  </body>
  <h1>Works Cited</h1>
  <p class="hang">Buizza, R., & Chessa, P. (2002). Prediction of the U.S. storm of 24–26 January 2000 with the ECMWF Ensemble Prediction System. Monthly Weather Review, 130(6), 1531–1551. https://doi.org/10.1175/1520-0493(2002)130&lt;1531:potuss&gt;2.0.co;2 </p>
  <p class="hang">Double Pendulum. Double pendulum. (n.d.). https://physics.umd.edu/hep/drew/pendulum2.html </p>
  <p class="hang">Halton, C. (n.d.). Chaos theory: What it is, history, and example. Investopedia. https://www.investopedia.com/terms/c/chaostheory.asp </p>
  <p class="hang">Kastorf, J. (n.d.). The Lorenz Attractor Explained. YouTube. https://www.youtube.com/watch?v=VjP90rwpBwU </p>
  <p class="hang">Knight, S. (2021, March 10). Royal Meteorological Society Weather, Climate and chaos theory. MetLink. https://www.metlink.org/blog/weather-climate-and-chaos-theory/ </p>
  <p class="hang">Salinas, A., & Morstatter, F. (2024, April 1). The butterfly effect of altering prompts: How small changes and jailbreaks affect large language model performance. arXiv.org. https://arxiv.org/abs/2401.03729 </p>
  <p class="hang">The Lorenz attractor. The lorenz attractor. (n.d.). https://homepages.math.uic.edu/~kjerland/Lorenz/lorenz_attractor.html </p>
  <p class="hang">Veritasium. (n.d.). Chaos: The Science of the Butterfly Effect. YouTube. https://www.youtube.com/watch?v=fDek6cYijxI </p>
  <p class="hang">Visualizing the loss landscape of neural nets. Welcome. (n.d.). https://www.cs.umd.edu/~tomg/projects/landscapes/ </p>
  <p class="hang">What is chaos theory?. Fractal Foundation. (n.d.). https://fractalfoundation.org/resources/what-is-chaos-theory/ </p>
  <p class="hang">Wikimedia Foundation. (2025, April 9). Chaos theory. Wikipedia. https://en.wikipedia.org/wiki/Chaos_theory </p>
  <p class="hang">Wikimedia Foundation. (2025b, April 22). Lorenz System. Wikipedia. https://en.wikipedia.org/wiki/Lorenz_system </p>



<div class="footer">
    <a class = "button" href="https://github.com/sinclairHansen"target="_blank" rel="noopener noreferrer">GitHub</a>
    <a class = "button" href="mailto:sinclairCHansen@gmail.com"target="_blank" rel="noopener noreferrer">Email</a>
    <a class = "button" href="https://www.linkedin.com/in/sinclair-hansen-b1b3b4310/"target="_blank" rel="noopener noreferrer">LinkedIn</a>
  </div>


<script>
  //PENDULUM CODE
  let g = 1;
  let pendulums = [];
  let width = 400;
  let height = 400;
  let num = 10;
  let colorPalette = ['#0e9aa7','#3da4ab','#f6cd61','#fe8a71','#07407b',
    '#f6b26b','#e69138','#07407b'
  ];
    function setup(){

      createCanvas(width,height);
      //This grabs the values the user sets in the sliders
      let L1 = 80;
      let L2 = 80;
      let m1 = 1;
      let m2 = 1;

      let theta2 = PI/4;
      for(i = 0; i<num; i++){
          let theta1 = PI/3 + (0.01)*i;
          pendulums[i] = new Pendulum(theta1,theta2, L1, L2, m1, m2);
        }

          draw();
      }


  


  function draw()
  {
    //If I do background(0,30) it will make a trail along the pendulums
    //due to it changing the transparancy
    //Maybe make it an option later on.--> background(0,x)
      background(0,50);
      for(i = 0; i<num; i++)
        {
          pendulums[i].update();
          pendulums[i].display();
        }
      }
        


  </script>